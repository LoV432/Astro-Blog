---
import PostImage from '../components/PostImage.astro';
const { posts } = Astro.props;
---

<section class="grid place-items-center">
	{
		posts.data.map((post) => (
			<>
				<a aria-disabled="true" role="link" aria-label="prefetch image" rel="prefetch" tabindex="-1" href={post.attributes.cover.data.attributes.url} />
				<a
					tabindex="0"
					href={`/blog/${post.attributes.slug}/`}
					rel="prefetch"
					class="mb-6 grid w-[20rem] overflow-hidden rounded-lg border-2 border-rose-700 shadow-xl 
			shadow-rose-600/10 transition-all hover:-translate-y-1 hover:cursor-pointer hover:shadow-rose-600/40 sm:grid-rows-[1fr,66%] md:min-h-[182.5px] md:w-[48rem] md:grid-cols-[1fr,63%] md:grid-rows-[unset]"
				>
					<PostImage imageObject={post.attributes.cover.data.attributes} classes={'rounded-l-sm w-full h-full aspect-video object-cover flex place-items-center justify-center'} size={'small'} alt={'Thumbnail'} />
					<div class="h-fit rounded-r-sm bg-zinc-900 md:h-full">
						<div class="m-5 mb-2 text-3xl">{post.attributes.heading}</div>
						<div class="mx-5 mb-5 w-fit">
							<object aria-label="just here so i can add nested <a>">
								<span class="mr-2 rounded bg-rose-200 px-2.5 py-0.5 pb-1 text-xs font-semibold text-rose-900">tags:</span>
								{post.attributes.tags.data.map((tag: { id: number; attributes: { tag: string } }) => (
									<a class="inline-block text-blue-700 hover:text-rose-700" href={`/tag/${tag.attributes.tag}/`} rel="prefetch">
										#{tag.attributes.tag} &VeryThinSpace;
									</a>
								))}
							</object>
						</div>
						<div class="pb-5 pl-5 pr-5">
							<p class="line-clamp-5 overflow-hidden md:line-clamp-3">{post.attributes.description}</p>
						</div>
					</div>
				</a>
			</>
		))
	}
</section>
